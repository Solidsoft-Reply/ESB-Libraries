<?xml version="1.0" encoding="utf-8"?>
<brl xmlns="http://schemas.microsoft.com/businessruleslanguage/2002">
  <ruleset name="Esb Demo Validate POs">
    <version major="1" minor="0" description="" modifiedby="WIN-8L35R8E7JJS\Administrator" date="2014-07-20T23:55:14.7541414+01:00" />
    <configuration />
    <bindings>
      <xmldocument ref="xml_31" doctype="DemoEsb.Schemas.PurchaseOrderCustomerA" instances="16" selectivity="1" instance="0">
        <selector>/*[local-name()='PurchaseOrder' and namespace-uri()='http://customer.com/po']</selector>
        <selectoralias>/tns:PurchaseOrder</selectoralias>
        <schema>C:\Users\Administrator\Documents\Visual Studio 2012\Projects\DemoEsb\DemoEsb\Schemas\PurchaseOrderCustomerA.xsd</schema>
      </xmldocument>
      <class ref="Validations" class="Validations" instance="0" instances="16" selectivity="1">
        <assembly>Solidsoft.Esb.Facts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=cb2a1e0509631d62</assembly>
        <!--C:\Windows\Microsoft.Net\assembly\GAC_MSIL\Solidsoft.Esb.Facts\v4.0_1.0.0.0__cb2a1e0509631d62\Solidsoft.Esb.Facts.dll-->
        <namespace>Solidsoft.Esb.Facts</namespace>
      </class>
    </bindings>
    <rule name="Validate PO from Customer A" priority="0" active="true">
      <if>
        <compare operator="not equal">
          <vocabularylink uri="3f0e9bcc-6212-4e6a-853c-e517f157a626" element="c22af575-9920-417c-a545-67fa0ece9832" />
          <lhs>
            <function>
              <xmldocumentmember xmldocumentref="xml_31" type="string" sideeffects="false">
                <field>*[local-name()='User' and namespace-uri()='http://customer.com/po']</field>
                <fieldalias>tns:User</fieldalias>
              </xmldocumentmember>
            </function>
          </lhs>
          <rhs>
            <constant>
              <string>aaaa</string>
            </constant>
          </rhs>
        </compare>
      </if>
      <then>
        <function>
          <vocabularylink uri="c93df0d0-19c9-4917-aad5-be006e1a88c3" element="f2af378f-484f-481f-9123-5cf452b42d02" />
          <classmember member="LogError" sideeffects="true">
            <classref ref="Validations" />
            <argument>
              <constant>
                <string>This is an error</string>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="c93df0d0-19c9-4917-aad5-be006e1a88c3" element="acfe236e-76d1-4ab5-80e6-3262a32434ea" />
          <classmember member="LogError" sideeffects="true">
            <classref ref="Validations" />
            <argument>
              <constant>
                <string>This is another error</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>Unspecified</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <long>1</long>
              </constant>
            </argument>
            <argument>
              <constant>
                <int>100</int>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="c93df0d0-19c9-4917-aad5-be006e1a88c3" element="2a04c334-7bf0-426a-8703-0b356744565e" />
          <classmember member="LogWarning" sideeffects="true">
            <classref ref="Validations" />
            <argument>
              <constant>
                <string>This is a warning</string>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="c93df0d0-19c9-4917-aad5-be006e1a88c3" element="73a6699f-77e5-4a95-a309-cba0f6347d6c" />
          <classmember member="LogWarning" sideeffects="true">
            <classref ref="Validations" />
            <argument>
              <constant>
                <string>This is another warning</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>Unspecified</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <long>3</long>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="c93df0d0-19c9-4917-aad5-be006e1a88c3" element="83261d78-75a0-431a-a201-daf4c7f9b5a3" />
          <classmember member="LogInformation" sideeffects="true">
            <classref ref="Validations" />
            <argument>
              <constant>
                <string>This is information</string>
              </constant>
            </argument>
          </classmember>
        </function>
        <function>
          <vocabularylink uri="c93df0d0-19c9-4917-aad5-be006e1a88c3" element="ea53f561-a030-4a2e-9f47-eff0fed7043a" />
          <classmember member="LogWarning" sideeffects="true">
            <classref ref="Validations" />
            <argument>
              <constant>
                <string>This is more information</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <string>Unspecified</string>
              </constant>
            </argument>
            <argument>
              <constant>
                <long>2</long>
              </constant>
            </argument>
          </classmember>
        </function>
      </then>
    </rule>
  </ruleset>
</brl>